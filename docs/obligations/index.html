



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Obligations - policy-machine-core</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#obligations" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="policy-machine-core" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              policy-machine-core
            </span>
            <span class="md-header-nav__topic">
              
                Obligations
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="policy-machine-core" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    policy-machine-core
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../functional-components/" title="Functional Components" class="md-nav__link">
      Functional Components
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Obligations
      </label>
    
    <a href="./" title="Obligations" class="md-nav__link md-nav__link--active">
      Obligations
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-elements" class="md-nav__link">
    Common Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodes" class="md-nav__link">
    Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obligation" class="md-nav__link">
    Obligation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rule" class="md-nav__link">
    Rule
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-pattern" class="md-nav__link">
    Event Pattern
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subject" class="md-nav__link">
    Subject
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user" class="md-nav__link">
    user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#any_user" class="md-nav__link">
    any_user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process" class="md-nav__link">
    process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-class" class="md-nav__link">
    Policy Class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    Operations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target" class="md-nav__link">
    Target
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response" class="md-nav__link">
    Response
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#condition" class="md-nav__link">
    Condition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-action" class="md-nav__link">
    Create Action
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rule_1" class="md-nav__link">
    rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodes_1" class="md-nav__link">
    nodes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-action" class="md-nav__link">
    Assign Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant-action" class="md-nav__link">
    Grant Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deny-action-prohibition" class="md-nav__link">
    Deny Action (Prohibition)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-action" class="md-nav__link">
    Delete Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuction-as-action" class="md-nav__link">
    Fuction as Action
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#predefined-functions" class="md-nav__link">
    Predefined Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#child_of_assign" class="md-nav__link">
    child_of_assign
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parent_of_assign" class="md-nav__link">
    parent_of_assign
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_1" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_1" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_1" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_node" class="md-nav__link">
    create_node
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_2" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_2" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_2" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_2" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current_process" class="md-nav__link">
    current_process
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_3" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_3" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_3" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_3" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_3" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current_target" class="md-nav__link">
    current_target
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_4" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_4" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_4" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_4" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_4" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current_user" class="md-nav__link">
    current_user
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_5" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_5" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_5" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_5" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_5" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_children" class="md-nav__link">
    get_children
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_6" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_6" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_6" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_6" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_6" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_node" class="md-nav__link">
    get_node
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_7" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_7" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_7" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_7" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_7" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_node_name" class="md-nav__link">
    get_node_name
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_8" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_8" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_8" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_8" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_8" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_node_contained_in" class="md-nav__link">
    is_node_contained_in
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_9" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_9" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_9" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_9" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_9" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_props" class="md-nav__link">
    to_props
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_10" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_10" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_10" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_10" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_10" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-functions" class="md-nav__link">
    Custom Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-implement-functionexecutor-interface" class="md-nav__link">
    1. Implement FunctionExecutor Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-provide-the-epp-with-the-function-executor" class="md-nav__link">
    2. Provide the EPP with the Function Executor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdp-events" class="md-nav__link">
    PDP Events
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contact/" title="Contact Us" class="md-nav__link">
      Contact Us
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-elements" class="md-nav__link">
    Common Elements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodes" class="md-nav__link">
    Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obligation" class="md-nav__link">
    Obligation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rule" class="md-nav__link">
    Rule
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-pattern" class="md-nav__link">
    Event Pattern
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subject" class="md-nav__link">
    Subject
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user" class="md-nav__link">
    user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#any_user" class="md-nav__link">
    any_user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process" class="md-nav__link">
    process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-class" class="md-nav__link">
    Policy Class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    Operations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target" class="md-nav__link">
    Target
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response" class="md-nav__link">
    Response
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#condition" class="md-nav__link">
    Condition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-action" class="md-nav__link">
    Create Action
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rule_1" class="md-nav__link">
    rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodes_1" class="md-nav__link">
    nodes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assign-action" class="md-nav__link">
    Assign Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grant-action" class="md-nav__link">
    Grant Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deny-action-prohibition" class="md-nav__link">
    Deny Action (Prohibition)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-action" class="md-nav__link">
    Delete Action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuction-as-action" class="md-nav__link">
    Fuction as Action
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#predefined-functions" class="md-nav__link">
    Predefined Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#child_of_assign" class="md-nav__link">
    child_of_assign
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parent_of_assign" class="md-nav__link">
    parent_of_assign
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_1" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_1" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_1" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_node" class="md-nav__link">
    create_node
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_2" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_2" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_2" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_2" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current_process" class="md-nav__link">
    current_process
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_3" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_3" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_3" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_3" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_3" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current_target" class="md-nav__link">
    current_target
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_4" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_4" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_4" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_4" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_4" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current_user" class="md-nav__link">
    current_user
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_5" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_5" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_5" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_5" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_5" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_children" class="md-nav__link">
    get_children
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_6" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_6" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_6" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_6" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_6" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_node" class="md-nav__link">
    get_node
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_7" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_7" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_7" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_7" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_7" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_node_name" class="md-nav__link">
    get_node_name
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_8" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_8" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_8" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_8" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_8" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_node_contained_in" class="md-nav__link">
    is_node_contained_in
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_9" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_9" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_9" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_9" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_9" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_props" class="md-nav__link">
    to_props
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#description_10" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_10" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return_10" class="md-nav__link">
    Return
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-requirements_10" class="md-nav__link">
    Event Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_10" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-functions" class="md-nav__link">
    Custom Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-implement-functionexecutor-interface" class="md-nav__link">
    1. Implement FunctionExecutor Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-provide-the-epp-with-the-function-executor" class="md-nav__link">
    2. Provide the EPP with the Function Executor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pdp-events" class="md-nav__link">
    PDP Events
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="obligations">Obligations</h1>
<p>Obligations are defined using a yaml syntax described below. Examples can be found <a href="/examples/#obligations">here</a>.</p>
<h2 id="common-elements">Common Elements</h2>
<h3 id="nodes">Nodes</h3>
<p>A node represents a node in an NGAC graph. A node has a name, type, and properties. A node can also be derived from a function.</p>
<pre><code class="yaml">name:
type:
properties:
  - key: value
</code></pre>

<h3 id="function">function</h3>
<p>A function refers to a previously defined function that is supported by the Policy Machine Event Processing Point (EPP).  A list of valid functions, as well as tutorial on how to add functions can be found <a href="#functions">here</a>.</p>
<p><em>Example</em></p>
<pre><code class="yaml">function:
  name:
  args:
    - &quot;&quot;
    - function:
</code></pre>

<p>A function has a name and a list of arguments. The arguments are a list of string values or other functions.</p>
<h2 id="obligation">Obligation</h2>
<p>There is one obligation per yaml file. An obligation can have zero or more rules.</p>
<pre><code class="yaml">label:
rules:
</code></pre>

<ul>
<li><strong><em>label</em></strong> - A label to give the obligation.  If one is not specified, then a random value will be used.</li>
<li><strong><em>rules</em></strong> - Contains a set of zero or more rules.</li>
</ul>
<h2 id="rule">Rule</h2>
<pre><code class="yaml">label:
event:
response:
</code></pre>

<ul>
<li><strong><em>label</em></strong> - A label to give the rule.  If one is not specified a random value will be used.</li>
<li><strong><em>event</em></strong> - The event pattern for this rule.</li>
<li><strong><em>response</em></strong> - The response to the event.</li>
</ul>
<h2 id="event-pattern">Event Pattern</h2>
<pre><code class="yaml">event:
  subject:
  policyClass:
  operations:
  target:
</code></pre>

<p>The Event Pattern specifies an event involving the policy elements of the Policy Machine.  An example is a user performing a read operation on an object.  This is called an access event, which is the primary focus of obligations as described in the NGAC standard. An access event has four components: The subject, policy class, operations, and target.  All of these are optional, but omitting them will have different consequences, which will be described in the sections below.</p>
<p>While the Policy Machine focuses on access events, it is possible to extend the functionality of the Event Pattern to other events such as time.  The section <a href="#how-to-extend-the-event-pattern">How to Extend the Event Pattern</a> section provides a tutorial on how this is possible with the Policy Machine.</p>
<h3 id="subject">Subject</h3>
<pre><code class="yaml">subject:
  user:
  anyUser:
  process:
</code></pre>

<p>The subject specification can be a user, any user, any user from a set of users and/or user attributes, or a process.  If the subject is omitted than all events will match this component of an access event.</p>
<h4 id="user">user</h4>
<p>A user is identified by it's name.</p>
<h4 id="any_user">any_user</h4>
<pre><code class="yaml">anyUser:
</code></pre>

<p>The <code>any_user</code> element accepts an array of strings representing user names.  If the element is empty then any user will match.</p>
<h4 id="process">process</h4>
<pre><code class="yaml">process:
</code></pre>

<p>The <code>process</code> element accepts a number as a process ID.</p>
<p><em>Example:</em></p>
<pre><code class="yaml">anyUser: # any user
###
anyUser: # u1 or u2
  - &quot;u1&quot;
  - &quot;u2&quot;
process: 12345
</code></pre>

<h3 id="policy-class">Policy Class</h3>
<pre><code class="yaml">policyClass:
  anyOf:
  ---
  eachOf:
</code></pre>

<p>The policy class specification can specify a particular policy class with a given name, any policy class, any policy class from a set, all policy classes from a set, or all policy classes. Only one of <code>anyOf</code> and <code>eachOf</code> are allowed.</p>
<p><em>Example</em></p>
<pre><code class="yaml">###
policyClass: # any policy class
###
policyClass: # PC1 or PC2
  anyOf:
    - &quot;PC1&quot;
    - &quot;PC2&quot;
###
policyClass: # PC1 and PC2
  eachOf:
    - &quot;PC1&quot;
    - &quot;PC2&quot;
</code></pre>

<h3 id="operations">Operations</h3>
<pre><code class="yaml">operations:
  - &quot;op&quot;
</code></pre>

<p>The operations specification is a string array of operation names. Any event that matches an element of the array will match the operations event pattern.</p>
<p><em>Example:</em></p>
<pre><code class="yaml">operations:
  - &quot;read&quot;
  - &quot;write&quot;
</code></pre>

<h3 id="target">Target</h3>
<p>The target of an event can be</p>
<ul>
<li>A specific policy element</li>
</ul>
<pre><code class="yaml">policyElements:
  - name: name
    type: type
</code></pre>

<ul>
<li>Any policy element</li>
</ul>
<pre><code class="yaml">policyElements:
</code></pre>

<p>* Omitting <code>policyElements</code> will have the same effect</p>
<ul>
<li>Any policy element that is contained in other policy elements</li>
</ul>
<pre><code class="yaml">containers:
  - name:
    type:
  - name:
    type:
</code></pre>

<ul>
<li>Any policy element from a set of policy elements</li>
</ul>
<pre><code class="yaml">policyElements:
  - name: name
    type: type
  - name: name
    type: type
</code></pre>

<ul>
<li>If both <code>policyElements</code> and <code>containers</code> are omitted it will be "any policyElement in any container"</li>
<li>If <code>containers</code> is present then it will be "any policyElement in the containers", regardless of if policyElements is present</li>
<li>If <code>policyElements</code> is present its "any policyElement from the list provided"</li>
</ul>
<h2 id="response">Response</h2>
<p>A response is a series of conditional actions. A condition can also be applied to the response itself.</p>
<h3 id="condition">Condition</h3>
<p>A condition is a set of boolean expressions that if all evaluate to true, allow for a response or specific action to be executed.</p>
<pre><code class="yaml">condition:
  - function:
  - function:
</code></pre>

<h3 id="create-action">Create Action</h3>
<p>You can create</p>
<ul>
<li>a set of rules</li>
<li>a set of nodes</li>
</ul>
<h4 id="rule_1">rule</h4>
<pre><code class="yaml">create:
  - label:
    event:
    response:
</code></pre>

<h4 id="nodes_1">nodes</h4>
<p>Create a single node and assign it to an already existing node in the graph. An array of commands is accepted to create
more than one node. <strong>Functions are not allowed here</strong>.</p>
<pre><code class="yaml">create:
  - what:
      name: node1
      type: UA
    where:
      name: container1
      type: UA
</code></pre>

<h3 id="assign-action">Assign Action</h3>
<pre><code class="yaml">assign:
  what:
  where:
</code></pre>

<p>The <code>what</code> and <code>where</code> nodes.  The node in <code>what</code> will be assigned to the node in <code>where</code>.</p>
<h3 id="grant-action">Grant Action</h3>
<p>Associate the node in <code>subject</code> with the node in <code>target</code>.</p>
<pre><code class="yaml">grant:
  subject:
  operations:
  target:
</code></pre>

<ul>
<li><code>subject</code> a node that will be the subject of the association.</li>
<li><code>operations</code> is an array of operations to add to the association.</li>
<li><code>target</code> a node that will be the target of the association.</li>
</ul>
<h3 id="deny-action-prohibition">Deny Action (Prohibition)</h3>
<p>Deny a subject a set of operations on a set of target attributes. The subject can be a function, a process, or a node.
The operations are an array of string.  The target of the deny can be the intersection of a set of containers. 
It can also be the complement of the logical evaluation of the containers. Each container is identified by a name and type (properties are optional).<br />
If more than one node matches the provided name and type all will be taken into account. It is possible to take the complement 
of an individual container using the <code>complement</code> element. A deny also has a label that can be used to reference it later (i.e. to delete).</p>
<pre><code class="yaml">deny:
  label: # string
  subject: # priority goes 1. function, 2. process, 3. node
   function:
   ---
   process:
   ---
   name:
   type:
   properties:
 operations:
   - &quot;&quot;
   - &quot;&quot;
 target:
   complement: # true|false, default false
   intersection: # true|false, default false
   containers:
     - name:
       type:
       complement: # true|false, default false
     - function:
       complement: # true|false
</code></pre>

<h3 id="delete-action">Delete Action</h3>
<p>The delete action can delete:</p>
<ul>
<li>nodes</li>
<li>assignments</li>
<li>associations</li>
<li>prohibitions (denies)</li>
<li>rules</li>
</ul>
<pre><code class="yaml">delete:
  nodes:
    - name:
      type:
  assignments:
    - what:
        name:
        type:
      where:
        name:
        type:
  associations:
    - subject:
      target:
  prohibitions:
    - label:
  rules:
    - label:
</code></pre>

<h3 id="fuction-as-action">Fuction as Action</h3>
<p>You can define a function as a direct action in the response.</p>
<pre><code class="yaml">function:
  name:
  args:
</code></pre>

<h2 id="functions">Functions</h2>
<p>There are two main types of functions: utility and administrative.  Utility functions are functions which aid in writing 
and executing obligations.  Administrative functions provide a convenient way of bundling several administrative commands
together.</p>
<h3 id="predefined-functions">Predefined Functions</h3>
<p>This is a list of functions that are built into the library. They are all utility functions.</p>
<h4 id="child_of_assign">child_of_assign</h4>
<h5 id="description">Description</h5>
<p>Return the node that is the child of the assignment that is the focus of the event.</p>
<h5 id="parameters">Parameters</h5>
<p>None</p>
<h5 id="return">Return</h5>
<p><code>Node</code></p>
<h5 id="event-requirements">Event Requirements</h5>
<p>The event must <strong>assign</strong>, <strong>assign to</strong>, <strong>deassign</strong> or <strong>deassign from</strong>.</p>
<h5 id="example">Example</h5>
<pre><code class="yaml">function:
  name: child_of_assign  
</code></pre>

<h4 id="parent_of_assign">parent_of_assign</h4>
<h5 id="description_1">Description</h5>
<p>Return the node that is the child of the assignment that is the focus of the event.</p>
<h5 id="parameters_1">Parameters</h5>
<p>None</p>
<h5 id="return_1">Return</h5>
<p><code>Node</code></p>
<h5 id="event-requirements_1">Event Requirements</h5>
<p>The event must <strong>assign</strong>, <strong>assign to</strong>, <strong>deassign</strong> or <strong>deassign from</strong>.</p>
<h5 id="example_1">Example</h5>
<pre><code class="yaml">function:
  name: child_of_assign  
</code></pre>

<h4 id="create_node">create_node</h4>
<h5 id="description_2">Description</h5>
<p>Create a new node and return it.</p>
<h5 id="parameters_2">Parameters</h5>
<ol>
<li>parentName:</li>
<li>parentType:</li>
<li>name: string</li>
<li>type: string</li>
<li>properties: function (<a href="#to_props">to_props</a>)</li>
</ol>
<h5 id="return_2">Return</h5>
<p><code>Node</code></p>
<h5 id="event-requirements_2">Event Requirements</h5>
<p>None</p>
<h5 id="example_2">Example</h5>
<pre><code class="yaml">function:
  name: create_node
  args:
    - &quot;parentNode&quot;
    - &quot;OA&quot;
    - &quot;newNode&quot;
    - &quot;OA&quot;
    - function:
        name: to_props
        args:  
          - &quot;key1=value1&quot;
          - &quot;key2=value2&quot;
</code></pre>

<h4 id="current_process">current_process</h4>
<h5 id="description_3">Description</h5>
<p>Return the current process</p>
<h5 id="parameters_3">Parameters</h5>
<p>None</p>
<h5 id="return_3">Return</h5>
<p><code>long</code></p>
<h5 id="event-requirements_3">Event Requirements</h5>
<p>None</p>
<h5 id="example_3">Example</h5>
<pre><code class="yaml">function:
  name: current_process  
</code></pre>

<h4 id="current_target">current_target</h4>
<h5 id="description_4">Description</h5>
<p>Return the node that is the target of the event being processed</p>
<h5 id="parameters_4">Parameters</h5>
<p>None</p>
<h5 id="return_4">Return</h5>
<p><code>Node</code></p>
<h5 id="event-requirements_4">Event Requirements</h5>
<p>None</p>
<h5 id="example_4">Example</h5>
<pre><code class="yaml">function:
  name: current_target  
</code></pre>

<h4 id="current_user">current_user</h4>
<h5 id="description_5">Description</h5>
<p>Return the user that triggered the event being processed</p>
<h5 id="parameters_5">Parameters</h5>
<p>None</p>
<h5 id="return_5">Return</h5>
<p><code>Node</code></p>
<h5 id="event-requirements_5">Event Requirements</h5>
<p>None</p>
<h5 id="example_5">Example</h5>
<pre><code class="yaml">function:
  name: current_user 
</code></pre>

<h4 id="get_children">get_children</h4>
<h5 id="description_6">Description</h5>
<p>Returns the children of a node.</p>
<h5 id="parameters_6">Parameters</h5>
<ol>
<li>name: string</li>
<li>type: string</li>
<li>properties: function (<a href="#to_props">to_props</a>)</li>
</ol>
<h5 id="return_6">Return</h5>
<p><code>List&lt;Node&gt;</code></p>
<h5 id="event-requirements_6">Event Requirements</h5>
<p>None</p>
<h5 id="example_6">Example</h5>
<pre><code class="yaml">function:
  name: get_children 
  args:
    - &quot;oa1&quot;
    - &quot;OA&quot;
    - function:
        name: to_props
        args:
          - &quot;key=value&quot;
</code></pre>

<h4 id="get_node">get_node</h4>
<h5 id="description_7">Description</h5>
<p>Returns the node that matches the given name, type, and properties.</p>
<h5 id="parameters_7">Parameters</h5>
<ol>
<li>name: string</li>
<li>type: string</li>
<li>properties: function (<a href="#to_props">to_props</a>)</li>
</ol>
<h5 id="return_7">Return</h5>
<p><code>Node</code></p>
<h5 id="event-requirements_7">Event Requirements</h5>
<p>None</p>
<h5 id="example_7">Example</h5>
<pre><code class="yaml">function:
  name: get_node 
  args:
    - &quot;oa1&quot;
    - &quot;OA&quot;
    - function:
        name: to_props
        args:
          - &quot;key=value&quot;
</code></pre>

<h4 id="get_node_name">get_node_name</h4>
<h5 id="description_8">Description</h5>
<p>Returns the name of the node that is returned by the function passed as the parameter.</p>
<h5 id="parameters_8">Parameters</h5>
<ol>
<li>node: function</li>
</ol>
<h5 id="return_8">Return</h5>
<p><code>String</code></p>
<h5 id="event-requirements_8">Event Requirements</h5>
<p>None</p>
<h5 id="example_8">Example</h5>
<pre><code class="yaml">function:
  name: get_node_name 
  args:
    - function:
        name: current_target
</code></pre>

<h4 id="is_node_contained_in">is_node_contained_in</h4>
<h5 id="description_9">Description</h5>
<p>Returns true if the node passed as the first parameter is assigned to the node passed as the second parameter.  Both parameters
are expected to be functions.</p>
<h5 id="parameters_9">Parameters</h5>
<ol>
<li>child: function</li>
<li>parent: funtion</li>
</ol>
<h5 id="return_9">Return</h5>
<p><code>boolean</code></p>
<h5 id="event-requirements_9">Event Requirements</h5>
<p>None</p>
<h5 id="example_9">Example</h5>
<pre><code class="yaml">function:
  name: is_node_contained_in 
  args:
    - function:
        name: get_node
        args:
          - &quot;oa1&quot;
          - &quot;OA&quot;
    - function:
        name: get_node
        args:
          - &quot;oa1&quot;
          - &quot;OA&quot;
</code></pre>

<h4 id="to_props">to_props</h4>
<h5 id="description_10">Description</h5>
<p>Converts an array of strings with the format <key>=<value> to a Map<String, String>.</p>
<h5 id="parameters_10">Parameters</h5>
<ol>
<li>strings: array</li>
</ol>
<h5 id="return_10">Return</h5>
<p><code>Map&lt;String, String&gt;</code></p>
<h5 id="event-requirements_10">Event Requirements</h5>
<p>None</p>
<h5 id="example_10">Example</h5>
<pre><code class="yaml">function:
    name: to_props
    args:  
      - &quot;key1=value1&quot;
      - &quot;key2=value2&quot;
</code></pre>

<h3 id="custom-functions">Custom Functions</h3>
<p>To create your own function follow the pattern used in the <code>gov.nist.csd.pm.epp.functions</code> package.</p>
<h4 id="1-implement-functionexecutor-interface">1. Implement FunctionExecutor Interface</h4>
<p>Create a class that implements the <code>gov.nist.csd.pm.epp.functions.FunctionExecutor</code> interface.</p>
<pre><code class="java">/**
 * The name of the function
 * @return the name of the function.
 */
String getFunctionName();

/**
 * How many parameters are expected.
 * @return the number of parameters this function expects
 */
int numParams();

/**
 * Execute the function.
 * @param eventCtx The event that is being processed
 * @param userID The ID of the user that triggered the event
 * @param processID The ID of the process that triggered the event
 * @param pdp The PDP to access the underlying policy data
 * @param function The function information
 * @param functionEvaluator A FunctionEvaluator to evaluate a nested functions
 * @return The object that the function is expected to return
 * @throws PMException If there is any error executing the function
 */
Object exec(EventContext eventCtx, long userID, long processID, PDP pdp, Function function, FunctionEvaluator functionEvaluator) throws PMException;
</code></pre>

<h4 id="2-provide-the-epp-with-the-function-executor">2. Provide the EPP with the Function Executor</h4>
<p>To make your custom function available to the EPP, use this EPP constructor:</p>
<pre><code class="java">public EPP(PDP pdp, FunctionExecutor ... executors) throws PMException {
    ...
}
</code></pre>

<p>Any executors that are provided to this constructor will be available to the EPP when processing events. </p>
<h2 id="pdp-events">PDP Events</h2>
<p>The following events are triggered by the PDP:</p>
<ul>
<li>Assign</li>
<li>Assign to</li>
<li>Deassign</li>
<li>Deassign From</li>
</ul>
<p>For each call to <code>assign()</code> and <code>deassign()</code> in the PDP, there are two events.  The child is being assigned/deassigned 
and the parent is being assigned to/deassigned from.</p>
<p>These are only the built in events.  Also, the PDP is not the only component that can trigger an event.  The PEP is also 
capable of triggering events of any kind. This is where custom events can be triggered. </p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../functional-components/" title="Functional Components" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Functional Components
              </span>
            </div>
          </a>
        
        
          <a href="../examples/" title="Examples" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Examples
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>